# Avoid 'unable to determine server name'
ServerName localhost

<VirtualHost 127.0.0.1:8010>
  WSGIScriptAlias / /var/ckan/wsgi_app.py/

  # Used for debug mode: Force single-threaded execution
  WSGIDaemonProcess singlethreaded
  WSGIProcessGroup singlethreaded

  # pass authorization info on (needed for rest api)
  WSGIPassAuthorization On
  ErrorLog /var/log/ckan/ckan-apache.error.log
  CustomLog /var/log/ckan/ckan-apache.custom.log combined

  # Inventory setup
  Alias /inventory/template /var/www/inventory-template
  <Directory /var/www/inventory-template>
      FileETag MTime Size
      Options FollowSymLinks MultiViews
      AllowOverride All
      Order allow,deny
      allow from all
      SetEnv CKAN_CONFIG_FILE /var/ckan/ckan.ini
  </Directory>

  # The trailing slash on the next two items is important
   # CKAN / OS Widget map tile proxy
  #ProxyPass /geoserver/ http://osinspiremappingprod.ordnancesurvey.co.uk/geoserver/
  #ProxyPassReverse /geoserver/ http://osinspiremappingprod.ordnancesurvey.co.uk/geoserver/

  # Possible values include: debug, info, notice, warn, error, crit,
  # alert, emerg.
  LogLevel warn
</VirtualHost>